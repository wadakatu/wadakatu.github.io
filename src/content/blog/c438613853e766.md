---
title: "\\5を追加したら動いた！iTerm2でPhpStormを起動する設定方法"
emoji: "🥷"
type: "tech"
topics:
  - "terminal"
  - "phpstorm"
  - "iterm2"
published: true
published_at: "2025-08-12 09:47"
updated_at: "2025-08-12 09:47"
publication_name: "studio"
---

## はじめに

開発中、ターミナルで`git status`を実行して変更されたファイルを確認し、そのファイルをすぐにPhpStormで開きたいと思ったことはありませんか？

iTerm2には、ターミナル上のファイルパスをクリックして任意のエディタで開く機能があります。この記事では、iTerm2からPhpStormを直接起動する設定方法を共有します。

## 既存の記事を試してみたけれど...

実は、このトピックについては既にいくつかの記事が公開されています：

- [Open your files with PhpStorm from iTerm2](https://dev.to/bornfightcompany/open-your-files-with-phpstorm-from-iterm2-3ogb)
- [Open Files From the Command Line](https://medium.com/@rcubitto/open-files-from-the-command-line-519294a9f92a)
- [Make iTerm and JetBrains IDEs work together](https://medium.com/@tonnio/make-iterm-and-jetbrains-ides-work-together-e8813a40d10c)

これらの記事を参考に設定を試みましたが、私の環境ではうまく動作しませんでした。特に以下の2点でつまずきました：

1. PhpStormコマンドを実行するためのPATHの設定方法が明確でない
2. iTerm2のSemantic HistoryのRun coprocessの設定値が既存記事のままでは動作しない

## 私の環境

- macOS: Sonoma
- PhpStorm: 2025.1.3（スタンドアロン版）
- iTerm2: Build 3.5.14

## 設定手順

### 1. PhpStormコマンドのPATHを通す

まず、ターミナルから`phpstorm`コマンドを使えるようにPATHを設定します。

`.zshrc`ファイルを開いて、以下の行を追加します：

```bash
export PATH="/Applications/PhpStorm.app/Contents/MacOS:$PATH"
```

設定を反映させるには、以下のいずれかを実行します：
- `source ~/.zshrc`を実行
- ターミナルを再起動

動作確認として、以下のコマンドを実行してバージョンが表示されればOKです：

```bash
phpstorm --version
```

### 2. iTerm2のSemantic History設定

次に、iTerm2でファイルパスをクリックした時にPhpStormで開くように設定します。

1. iTerm2のPreferences（⌘,）を開く
2. 「Profiles」→「Advanced」タブを選択
3. 「Semantic History」セクションを探す
4. ドロップダウンから「Run coprocess...」を選択
5. 以下のコマンドを入力：

```
/Applications/PhpStorm.app/Contents/MacOS/phpstorm \5 \1
```

![](https://storage.googleapis.com/zenn-user-upload/b2929a82f9ca-20250812.png)

### 重要なポイント

既存の記事との大きな違いは、`\5`（ワーキングディレクトリ）を含めている点です。

iTerm2の置換パラメータ：
- `\1`: ファイル名
- `\2`: 行番号
- `\3`: クリック前のテキスト
- `\4`: クリック後のテキスト
- `\5`: ワーキングディレクトリ

私の環境では、ワーキングディレクトリとファイル名の両方を指定することで正しく動作しました。

## 使い方

設定が完了したら、iTerm2上でファイルパスを**Cmd + クリック**するだけでPhpStormが起動し、該当ファイルが開きます。

例えば、`git status`の結果から直接ファイルを開けるようになります：

```bash
$ git status
On branch main
Changes not staged for commit:
  modified:   src/Controller/UserController.php  # ← Cmd + クリックでPhpStormで開く
  modified:   templates/user/index.html    # ← Cmd + クリックでPhpStormで開く
```

## おわりに

この記事では、私の環境でiTerm2からPhpStormを直接開く設定方法を共有しました。環境によって必要な設定は異なる可能性があるため、この方法はあくまでも一例として参考にしてください。

もし、この記事の方法でもうまくいかない場合や、別の環境での設定方法をご存知の方は、ぜひコメント欄で共有してください。みんなで様々な環境での解決策を集めることで、より多くの開発者の助けになると思います！

## 参考リンク

- [PhpStorm公式ドキュメント - Command-line interface](https://www.jetbrains.com/help/phpstorm/working-with-the-ide-features-from-command-line.html)
- [iTerm2公式ドキュメント](https://iterm2.com/documentation.html)